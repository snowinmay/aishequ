/* ==========================================================
 * sco.modal.js
 * http://github.com/terebentina/sco.js
 * ==========================================================
 * Copyright 2013 Dan Caragea.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/*jshint laxcomma:true, sub:true, browser:true, jquery:true, devel:true, eqeqeq:false */
/*global Spinner:true */
!function(a,b){"use strict";function d(b){function e(){""===d.options.title&&(d.options.title="&nbsp;")}this.options=a.extend({},a.fn[c].defaults,b),this.$modal=a(this.options.target).attr("class","modal fade").hide();var d=this;e()}var c="scojs_modal";a.extend(d.prototype,{show:function(){var e,f,g,d=this;return this.options.nobackdrop||(e=a(".modal-backdrop")),this.$modal.length||(f=['<div class="modal fade" id="'+this.options.target.substr(1)+'" tabindex="-1">','<div class="modal-dialog">','<div class="modal-content">','<div class="modal-header">','<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>','<h4 class="modal-title" id="myModalLabel">Modal title</h4>',"</div>",'<div class="modal-body">',"","</div>",'<div class="modal-footer">','<button type="button" class="btn btn-primary">确定</button>','<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>',"</div>","</div><!-- /.modal-content -->","</div><!-- /.modal-dialog -->","</div><!-- /.modal -->"].join(""),this.$modal=a(f).appendTo(this.options.appendTo).hide()),this.$modal.find(".modal-title").html(this.options.title),this.options.cssclass!==b&&this.$modal.attr("class","modal fade "+this.options.cssclass),this.options.width!==b&&this.$modal.width(this.options.width),this.options.left!==b&&this.$modal.css({left:this.options.left}),this.options.height!==b&&this.$modal.height(this.options.height),this.options.top!==b&&this.$modal.css({top:this.options.top}),this.options.keyboard&&this.escape(),this.options.nobackdrop||(e.length||(e=a('<div class="modal-backdrop fade" />').appendTo(this.options.appendTo)),e[0].offsetWidth,e.addClass("in")),this.$modal.off("close."+c).on("close."+c,function(){d.close.call(d)}),this.options.remote!==b&&""!=this.options.remote&&"#"!==this.options.remote?("function"==typeof Spinner&&(g=new Spinner({color:"#3d9bce"}).spin(this.$modal[0])),this.$modal.find(".modal-body").load(this.options.remote,function(){g&&g.stop(),d.options.cache&&(d.options.content=a(this).html(),delete d.options.remote)})):this.$modal.find(".modal-body").html(this.options.content),this.$modal.show().addClass("in"),this},close:function(){return this.$modal.hide().off("."+c).find(".modal-body").html(""),this.options.cssclass!==b&&this.$modal.removeClass(this.options.cssclass),a(document).off("keyup."+c),a(".modal-backdrop").remove(),"function"==typeof this.options.onClose&&this.options.onClose.call(this,this.options),this},destroy:function(){return this.$modal.remove(),a(document).off("keyup."+c),a(".modal-backdrop").remove(),this.$modal=null,this},escape:function(){var b=this;a(document).on("keyup."+c,function(a){27==a.which&&b.close()})}}),a.fn[c]=function(b){return this.each(function(){var e,f,g,h;(e=a.data(this,c))||(f=a(this),g=f.data(),h=a.extend({},b,g),""!==f.attr("href")&&"#"!=f.attr("href")&&(h.remote=f.attr("href")),e=new d(h),a.data(this,c,e)),e.show()})},a[c]=function(a){return new d(a)},a.fn[c].defaults={title:"&nbsp;",target:"#modal",content:"",appendTo:"body",cache:!1,keyboard:!1,nobackdrop:!1},a(document).on("click."+c,'[data-trigger="modal"]',function(){return a(this)[c](),a(this).is("a")?!1:void 0}).on("click."+c,'[data-dismiss="modal"]',function(b){b.preventDefault(),a(this).closest(".modal").trigger("close")})}(jQuery);

/* ==========================================================
 * sco.confirm.js
 * http://github.com/terebentina/sco.js
 * ==========================================================
 * Copyright 2013 Dan Caragea.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/*jshint laxcomma:true, sub:true, browser:true, jquery:true, devel:true */

!function(a){"use strict";function d(b){var d,e,f;this.options=a.extend({},a.fn[c].defaults,b),d=a(this.options.target),d.length||(e=['<div class="modal fade" id="'+this.options.target.substr(1)+'" tabindex="-1">','<div class="modal-dialog">','<div class="modal-content">','<div class="modal-header">','<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>','<h4 class="modal-title" id="myModalLabel">Modal title</h4>',"</div>",'<div class="modal-body">',"","</div>",'<div class="modal-footer">','<a href="javascript:void(0);" class="btn btn-primary" data-action="1">确定</a>','<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>',"</div>","</div><!-- /.modal-content -->","</div><!-- /.modal-dialog -->","</div><!-- /.modal -->"].join(""),d=a(e).appendTo(this.options.appendTo).hide(),"function"==typeof this.options.action?(f=this,d.find("[data-action]").attr("href","#").on("click."+c,function(a){a.preventDefault(),f.options.action.call(f),f.close()})):"string"==typeof this.options.action&&d.find("[data-action]").attr("href",this.options.action)),this.scomodal=a.scojs_modal(this.options)}var c="scojs_confirm";a.extend(d.prototype,{show:function(){return this.scomodal.show(),this},close:function(){return this.scomodal.close(),this},destroy:function(){return this.scomodal.destroy(),this}}),a.fn[c]=function(b){return this.each(function(){var e,f,g,h,i;(e=a.data(this,c))||(f=a(this),g=f.data(),h=f.attr("title")||g.title,i=a.extend({},a.fn[c].defaults,b,g),h||(h="this"),i.content=i.content.replace(":title",h),i.action?"function"==typeof window[i.action]&&(i.action=window[i.action]):i.action=f.attr("href"),e=new d(i),a.data(this,c,e)),e.show()})},a[c]=function(a){return new d(a)},a.fn[c].defaults={content:"Are you sure you want to delete :title?",cssclass:"confirm_modal",target:"#confirm_modal",appendTo:"body"},a(document).on("click."+c,'[data-trigger="confirm"]',function(){return a(this)[c](),!1})}(jQuery);